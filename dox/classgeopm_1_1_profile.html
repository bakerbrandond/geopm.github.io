<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>geopm: geopm::Profile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">geopm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegeopm.html">geopm</a></li><li class="navelem"><a class="el" href="classgeopm_1_1_profile.html">Profile</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgeopm_1_1_profile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">geopm::Profile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_profile_8hpp_source.html">Profile.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for geopm::Profile:</div>
<div class="dyncontent">
<div class="center"><img src="classgeopm_1_1_profile__inherit__graph.png" border="0" usemap="#geopm_1_1_profile_inherit__map" alt="Inheritance graph"/></div>
<map name="geopm_1_1_profile_inherit__map" id="geopm_1_1_profile_inherit__map">
<area shape="rect" id="node3" href="classgeopm_1_1_default_profile.html" title="geopm::DefaultProfile" alt="" coords="5,155,152,181"/>
<area shape="rect" id="node2" href="classgeopm_1_1_i_profile.html" title="Enables application profiling and application feedback to the control algorithm. " alt="" coords="23,5,133,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for geopm::Profile:</div>
<div class="dyncontent">
<div class="center"><img src="classgeopm_1_1_profile__coll__graph.png" border="0" usemap="#geopm_1_1_profile_coll__map" alt="Collaboration graph"/></div>
<map name="geopm_1_1_profile_coll__map" id="geopm_1_1_profile_coll__map">
<area shape="rect" id="node2" href="classgeopm_1_1_i_profile.html" title="Enables application profiling and application feedback to the control algorithm. " alt="" coords="5,5,115,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a227f1372296f2b7af61e2e79dc95ef83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a227f1372296f2b7af61e2e79dc95ef83">Profile</a> (const std::string &amp;prof_name, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt; comm)</td></tr>
<tr class="memdesc:a227f1372296f2b7af61e2e79dc95ef83"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgeopm_1_1_profile.html">Profile</a> constructor.  <a href="#a227f1372296f2b7af61e2e79dc95ef83">More...</a><br /></td></tr>
<tr class="separator:a227f1372296f2b7af61e2e79dc95ef83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a186400ce2b0237fc55ce6be37f4a9d93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a186400ce2b0237fc55ce6be37f4a9d93">Profile</a> (const std::string &amp;prof_name, const std::string &amp;key_base, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt; comm, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_control_message.html">IControlMessage</a> &gt; ctl_msg, <a class="el" href="classgeopm_1_1_i_platform_topo.html">IPlatformTopo</a> &amp;topo, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_table.html">IProfileTable</a> &gt; table, std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_thread_table.html">IProfileThreadTable</a> &gt; t_table, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_sample_scheduler.html">ISampleScheduler</a> &gt; scheduler)</td></tr>
<tr class="memdesc:a186400ce2b0237fc55ce6be37f4a9d93"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgeopm_1_1_profile.html">Profile</a> testable constructor.  <a href="#a186400ce2b0237fc55ce6be37f4a9d93">More...</a><br /></td></tr>
<tr class="separator:a186400ce2b0237fc55ce6be37f4a9d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b1de5c36ac169f09df9fdd1f55fe18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a06b1de5c36ac169f09df9fdd1f55fe18">Profile</a> (const std::string &amp;prof_name, const std::string &amp;key_base, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt; comm, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_control_message.html">IControlMessage</a> &gt; ctl_msg, <a class="el" href="classgeopm_1_1_i_platform_topo.html">IPlatformTopo</a> &amp;topo, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_table.html">IProfileTable</a> &gt; table, std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_thread_table.html">IProfileThreadTable</a> &gt; t_table, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_sample_scheduler.html">ISampleScheduler</a> &gt; scheduler, std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt; reduce_comm)</td></tr>
<tr class="memdesc:a06b1de5c36ac169f09df9fdd1f55fe18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test constructor.  <a href="#a06b1de5c36ac169f09df9fdd1f55fe18">More...</a><br /></td></tr>
<tr class="separator:a06b1de5c36ac169f09df9fdd1f55fe18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa28352007c32aa9cd1c0a23dac5e2b"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a4fa28352007c32aa9cd1c0a23dac5e2b">~Profile</a> ()</td></tr>
<tr class="memdesc:a4fa28352007c32aa9cd1c0a23dac5e2b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgeopm_1_1_profile.html">Profile</a> destructor, virtual.  <a href="#a4fa28352007c32aa9cd1c0a23dac5e2b">More...</a><br /></td></tr>
<tr class="separator:a4fa28352007c32aa9cd1c0a23dac5e2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42483566257be89b01a4431d2896682b"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a42483566257be89b01a4431d2896682b">region</a> (const std::string region_name, long hint) override</td></tr>
<tr class="memdesc:a42483566257be89b01a4431d2896682b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a region of code to be profiled.  <a href="#a42483566257be89b01a4431d2896682b">More...</a><br /></td></tr>
<tr class="separator:a42483566257be89b01a4431d2896682b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf72149126358e7f259e68f831eec4a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#aaf72149126358e7f259e68f831eec4a1">enter</a> (uint64_t region_id) override</td></tr>
<tr class="memdesc:aaf72149126358e7f259e68f831eec4a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a region entry point.  <a href="#aaf72149126358e7f259e68f831eec4a1">More...</a><br /></td></tr>
<tr class="separator:aaf72149126358e7f259e68f831eec4a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ae541c0b2e95fe2a803cfec00fe35e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a48ae541c0b2e95fe2a803cfec00fe35e">exit</a> (uint64_t region_id) override</td></tr>
<tr class="memdesc:a48ae541c0b2e95fe2a803cfec00fe35e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a region exit point.  <a href="#a48ae541c0b2e95fe2a803cfec00fe35e">More...</a><br /></td></tr>
<tr class="separator:a48ae541c0b2e95fe2a803cfec00fe35e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf700def7d1489de533e54e351a95314"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#adf700def7d1489de533e54e351a95314">progress</a> (uint64_t region_id, double fraction) override</td></tr>
<tr class="memdesc:adf700def7d1489de533e54e351a95314"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal fractional progress through a region.  <a href="#adf700def7d1489de533e54e351a95314">More...</a><br /></td></tr>
<tr class="separator:adf700def7d1489de533e54e351a95314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cfb78e7af38dbd325301bef6463a54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a13cfb78e7af38dbd325301bef6463a54">epoch</a> (void) override</td></tr>
<tr class="memdesc:a13cfb78e7af38dbd325301bef6463a54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal pass through outer loop.  <a href="#a13cfb78e7af38dbd325301bef6463a54">More...</a><br /></td></tr>
<tr class="separator:a13cfb78e7af38dbd325301bef6463a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c761a1b1c6f967a7a9be82bd3759dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#ab6c761a1b1c6f967a7a9be82bd3759dc">shutdown</a> (void) override</td></tr>
<tr class="separator:ab6c761a1b1c6f967a7a9be82bd3759dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a500efd96707e981705721c258a7ec185"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_thread_table.html">IProfileThreadTable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a500efd96707e981705721c258a7ec185">tprof_table</a> (void) override</td></tr>
<tr class="separator:a500efd96707e981705721c258a7ec185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aa787d4fb71dbbd5ad8e0ce756d3858"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a3aa787d4fb71dbbd5ad8e0ce756d3858">init_prof_comm</a> (std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt; comm, int &amp;shm_num_rank)</td></tr>
<tr class="separator:a3aa787d4fb71dbbd5ad8e0ce756d3858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8a53a68f4412fc3b6d8cfc91c036e6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#ae8a53a68f4412fc3b6d8cfc91c036e6b">init_ctl_msg</a> (const std::string &amp;sample_key)</td></tr>
<tr class="separator:ae8a53a68f4412fc3b6d8cfc91c036e6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0786b97de77555feb6999b6cd8e5213"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#af0786b97de77555feb6999b6cd8e5213">init_cpu_list</a> (int num_cpu)</td></tr>
<tr class="memdesc:af0786b97de77555feb6999b6cd8e5213"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill in rank affinity list.  <a href="#af0786b97de77555feb6999b6cd8e5213">More...</a><br /></td></tr>
<tr class="separator:af0786b97de77555feb6999b6cd8e5213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a2bb07aa6b8436f9c23a92e48dbd74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#af0a2bb07aa6b8436f9c23a92e48dbd74">init_cpu_affinity</a> (int shm_num_rank)</td></tr>
<tr class="separator:af0a2bb07aa6b8436f9c23a92e48dbd74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab327312375c7c7f85d5edaccd6836514"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#ab327312375c7c7f85d5edaccd6836514">init_tprof_table</a> (const std::string &amp;tprof_key, <a class="el" href="classgeopm_1_1_i_platform_topo.html">IPlatformTopo</a> &amp;topo)</td></tr>
<tr class="separator:ab327312375c7c7f85d5edaccd6836514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111ea606210af96cd983ae70e3c63349"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile.html#a111ea606210af96cd983ae70e3c63349">init_table</a> (const std::string &amp;sample_key)</td></tr>
<tr class="separator:a111ea606210af96cd983ae70e3c63349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgeopm_1_1_i_profile"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgeopm_1_1_i_profile')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgeopm_1_1_i_profile.html">geopm::IProfile</a></td></tr>
<tr class="memitem:a115475237adde47f145255ec9292e983 inherit pub_methods_classgeopm_1_1_i_profile"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_i_profile.html#a115475237adde47f145255ec9292e983">IProfile</a> ()=default</td></tr>
<tr class="separator:a115475237adde47f145255ec9292e983 inherit pub_methods_classgeopm_1_1_i_profile"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af602998e4c6bc5bcdca477d29d09730d inherit pub_methods_classgeopm_1_1_i_profile"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_i_profile.html#af602998e4c6bc5bcdca477d29d09730d">IProfile</a> (const <a class="el" href="classgeopm_1_1_i_profile.html">IProfile</a> &amp;other)=default</td></tr>
<tr class="separator:af602998e4c6bc5bcdca477d29d09730d inherit pub_methods_classgeopm_1_1_i_profile"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60cfd948c98dca77616f2e01c88f7b0c inherit pub_methods_classgeopm_1_1_i_profile"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_i_profile.html#a60cfd948c98dca77616f2e01c88f7b0c">~IProfile</a> ()=default</td></tr>
<tr class="separator:a60cfd948c98dca77616f2e01c88f7b0c inherit pub_methods_classgeopm_1_1_i_profile"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a227f1372296f2b7af61e2e79dc95ef83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a227f1372296f2b7af61e2e79dc95ef83">&#9670;&nbsp;</a></span>Profile() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::Profile::Profile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prof_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt;&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classgeopm_1_1_profile.html">Profile</a> constructor. </p>
<p>The <a class="el" href="classgeopm_1_1_profile.html">Profile</a> object is used by the application to instrument regions of code and post profile information to a shared memory region to be read by the <a class="el" href="classgeopm_1_1_controller.html" title="Class used to launch or step the global extensible open power manager algorithm. ">geopm::Controller</a> process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prof_name</td><td>Name associated with the profile. This name will be printed in the header of the report.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">comm</td><td>The application's MPI communicator. Each rank of this communicator will report to a separate shared memory region. One <a class="el" href="classgeopm_1_1_controller.html" title="Class used to launch or step the global extensible open power manager algorithm. ">geopm::Controller</a> on each compute node will consume the output from each rank running on the compute node. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a186400ce2b0237fc55ce6be37f4a9d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a186400ce2b0237fc55ce6be37f4a9d93">&#9670;&nbsp;</a></span>Profile() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::Profile::Profile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prof_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt;&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_control_message.html">IControlMessage</a> &gt;&#160;</td>
          <td class="paramname"><em>ctl_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeopm_1_1_i_platform_topo.html">IPlatformTopo</a> &amp;&#160;</td>
          <td class="paramname"><em>topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_table.html">IProfileTable</a> &gt;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_thread_table.html">IProfileThreadTable</a> &gt;&#160;</td>
          <td class="paramname"><em>t_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_sample_scheduler.html">ISampleScheduler</a> &gt;&#160;</td>
          <td class="paramname"><em>scheduler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classgeopm_1_1_profile.html">Profile</a> testable constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prof_name</td><td>Name associated with the profile. This name will be printed in the header of the report.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_base</td><td>Shmem key prefix.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">comm</td><td>The application's MPI communicator. Each rank of this communicator will report to a separate shared memory region. One <a class="el" href="classgeopm_1_1_controller.html" title="Class used to launch or step the global extensible open power manager algorithm. ">geopm::Controller</a> on each compute node will consume the output from each rank running on the compute node.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctl_msg</td><td>Preconstructed <a class="el" href="classgeopm_1_1_control_message.html">ControlMessage</a> instance, bypasses shmem creation.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topo</td><td>Preconstructed <a class="el" href="classgeopm_1_1_platform_topo.html">PlatformTopo</a> instance, bypasses singleton discovery.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctl_msg</td><td>Preconstructed <a class="el" href="classgeopm_1_1_profile_table.html">ProfileTable</a> instance, bypasses shmem creation.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctl_msg</td><td>Preconstructed <a class="el" href="classgeopm_1_1_profile_thread_table.html">ProfileThreadTable</a> instance, bypasses shmem creation.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctl_msg</td><td>Preconstructed <a class="el" href="classgeopm_1_1_sample_scheduler.html">SampleScheduler</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a06b1de5c36ac169f09df9fdd1f55fe18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b1de5c36ac169f09df9fdd1f55fe18">&#9670;&nbsp;</a></span>Profile() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::Profile::Profile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prof_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt;&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_control_message.html">IControlMessage</a> &gt;&#160;</td>
          <td class="paramname"><em>ctl_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeopm_1_1_i_platform_topo.html">IPlatformTopo</a> &amp;&#160;</td>
          <td class="paramname"><em>topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_table.html">IProfileTable</a> &gt;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_thread_table.html">IProfileThreadTable</a> &gt;&#160;</td>
          <td class="paramname"><em>t_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_i_sample_scheduler.html">ISampleScheduler</a> &gt;&#160;</td>
          <td class="paramname"><em>scheduler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt;&#160;</td>
          <td class="paramname"><em>reduce_comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test constructor. </p>

</div>
</div>
<a id="a4fa28352007c32aa9cd1c0a23dac5e2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fa28352007c32aa9cd1c0a23dac5e2b">&#9670;&nbsp;</a></span>~Profile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geopm::Profile::~Profile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classgeopm_1_1_profile.html">Profile</a> destructor, virtual. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aaf72149126358e7f259e68f831eec4a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf72149126358e7f259e68f831eec4a1">&#9670;&nbsp;</a></span>enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::enter </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>region_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a region entry point. </p>
<p>Called to denote the beginning of region of code that was assigned the region_id when it was registered. Nesting of regions is not supported: calls to this method from within a region previously entered but not yet exited are silently ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">region_id</td><td>The identifier returned by <a class="el" href="classgeopm_1_1_profile.html#a42483566257be89b01a4431d2896682b" title="Register a region of code to be profiled. ">Profile::region()</a> when the region was registered. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_profile.html#a396b61f1509022eaa3d463f9a9b0ce26">geopm::IProfile</a>.</p>

</div>
</div>
<a id="a13cfb78e7af38dbd325301bef6463a54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13cfb78e7af38dbd325301bef6463a54">&#9670;&nbsp;</a></span>epoch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::epoch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal pass through outer loop. </p>
<p>Called once for each pass through the outer most computational loop executed by the application. This function call should occur exactly once in the application source at the beginning of the loop that encapsulates the primary computational region of the application. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000028">Todo:</a></b></dt><dd>When removing decider code path, remove this do_kontroller check </dd></dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_profile.html#ab9b42254a2e9ab801f87a2866373c451">geopm::IProfile</a>.</p>

</div>
</div>
<a id="a48ae541c0b2e95fe2a803cfec00fe35e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ae541c0b2e95fe2a803cfec00fe35e">&#9670;&nbsp;</a></span>exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::exit </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>region_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a region exit point. </p>
<p>Called to denote the end of a region of code that was assigned the region_id when it was registered. Nesting of regions is not supported: calls to this method that are not exiting from the oldest unclosed entry point with the same region_id are silently ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">region_id</td><td>The identifier returned by <a class="el" href="classgeopm_1_1_profile.html#a42483566257be89b01a4431d2896682b" title="Register a region of code to be profiled. ">Profile::region()</a> when the region was registered. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_profile.html#adb347814c5f80658e991407c7921bd44">geopm::IProfile</a>.</p>

</div>
</div>
<a id="af0a2bb07aa6b8436f9c23a92e48dbd74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a2bb07aa6b8436f9c23a92e48dbd74">&#9670;&nbsp;</a></span>init_cpu_affinity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::init_cpu_affinity </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shm_num_rank</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af0786b97de77555feb6999b6cd8e5213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0786b97de77555feb6999b6cd8e5213">&#9670;&nbsp;</a></span>init_cpu_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::init_cpu_list </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_cpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill in rank affinity list. </p>
<p>Uses hwloc to determine the cpuset the current process is bound to. This information is used to fill in a set containing all CPUs we can run on. This is used to communicate with the geopm runtime the number of ranks as well as their affinity masks. </p>

</div>
</div>
<a id="ae8a53a68f4412fc3b6d8cfc91c036e6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a53a68f4412fc3b6d8cfc91c036e6b">&#9670;&nbsp;</a></span>init_ctl_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::init_ctl_msg </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sample_key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3aa787d4fb71dbbd5ad8e0ce756d3858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aa787d4fb71dbbd5ad8e0ce756d3858">&#9670;&nbsp;</a></span>init_prof_comm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::init_prof_comm </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt;&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>shm_num_rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a111ea606210af96cd983ae70e3c63349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111ea606210af96cd983ae70e3c63349">&#9670;&nbsp;</a></span>init_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::init_table </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sample_key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab327312375c7c7f85d5edaccd6836514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab327312375c7c7f85d5edaccd6836514">&#9670;&nbsp;</a></span>init_tprof_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::init_tprof_table </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>tprof_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeopm_1_1_i_platform_topo.html">IPlatformTopo</a> &amp;&#160;</td>
          <td class="paramname"><em>topo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adf700def7d1489de533e54e351a95314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf700def7d1489de533e54e351a95314">&#9670;&nbsp;</a></span>progress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::progress </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>region_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fraction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal fractional progress through a region. </p>
<p>Signals the fractional amount of work completed within the phase. This normalized progress reporting is used to identify processes that are closer or further away from completion, and resources can be shifted to those processes which are further behind. Calls to this method from within a nested region are ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">region_id</td><td>The identifier returned by <a class="el" href="classgeopm_1_1_profile.html#a42483566257be89b01a4431d2896682b" title="Register a region of code to be profiled. ">Profile::region()</a> when the region was registered.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fraction</td><td>The fractional progress normalized to be between 0.0 and 1.0 (zero on entry one on completion). </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_profile.html#a7ef8a8e4d1052853d00c42261c38be36">geopm::IProfile</a>.</p>

</div>
</div>
<a id="a42483566257be89b01a4431d2896682b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42483566257be89b01a4431d2896682b">&#9670;&nbsp;</a></span>region()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t geopm::Profile::region </td>
          <td>(</td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>region_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>hint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a region of code to be profiled. </p>
<p>The statistics gathered for each region are aggregated in the final report, and the power policy will be determined distinctly for each region. The registration of a region is idempotent, and the first call will have more overhead than subsequent attempts to re-register the same region.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">region_name</td><td>Unique name that identifies the region being profiled. This name will be printed next to the region statistics in the report.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hint</td><td>Value from the #geopm_hint_e structure which is used to derive a starting policy before the application has been profiled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the region_id which is a unique identifier derived from the region_name. This value is passed to <a class="el" href="classgeopm_1_1_profile.html#aaf72149126358e7f259e68f831eec4a1" title="Mark a region entry point. ">Profile::enter()</a>, <a class="el" href="classgeopm_1_1_profile.html#a48ae541c0b2e95fe2a803cfec00fe35e" title="Mark a region exit point. ">Profile::exit()</a>, <a class="el" href="classgeopm_1_1_profile.html#adf700def7d1489de533e54e351a95314" title="Signal fractional progress through a region. ">Profile::progress</a> and Profile::sample() to associate these calls with the registered region. </dd></dl>
<p>Record hint when registering a region. </p>

<p>Implements <a class="el" href="classgeopm_1_1_i_profile.html#a5866b82ffc2a086c1eb6f81cc079668e">geopm::IProfile</a>.</p>

</div>
</div>
<a id="ab6c761a1b1c6f967a7a9be82bd3759dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c761a1b1c6f967a7a9be82bd3759dc">&#9670;&nbsp;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Profile::shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classgeopm_1_1_i_profile.html#a9b2569e3fc8cf712a55b8adeb6196565">geopm::IProfile</a>.</p>

</div>
</div>
<a id="a500efd96707e981705721c258a7ec185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a500efd96707e981705721c258a7ec185">&#9670;&nbsp;</a></span>tprof_table()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_i_profile_thread_table.html">IProfileThreadTable</a> &gt; geopm::Profile::tprof_table </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classgeopm_1_1_i_profile.html#a1bb364718a9c7dc2faf313472d262754">geopm::IProfile</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_profile_8hpp_source.html">Profile.hpp</a></li>
<li>src/<a class="el" href="_profile_8cpp.html">Profile.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
